{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/logan/Projects/in-death-tournament/client/src/components/UserDropdown.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Link from \"next/link\";\r\n\r\ninterface User {\r\n    _id: string;\r\n    username: string;\r\n    avatar: string;\r\n    role: string;\r\n}\r\n\r\nexport default function UserDropdown() {\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const [open, setOpen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        axios.get(\"http://localhost:5000/auth/user\", { withCredentials: true })\r\n            .then(res => setUser(res.data))\r\n            .catch(() => setUser(null));\r\n    }, []);\r\n\r\n    const handleLogout = async () => {\r\n        await axios.get(\"http://localhost:5000/auth/logout\", { withCredentials: true });\r\n        setUser(null);\r\n    };\r\n\r\n    if (!user) return null; // Hide dropdown if not logged in\r\n\r\n    return (\r\n        <div className=\"relative\">\r\n            {/* ✅ Avatar (click to open dropdown) */}\r\n            <img \r\n                src={user.avatar} \r\n                alt=\"User Avatar\" \r\n                className=\"w-10 h-10 rounded-full cursor-pointer\"\r\n                onClick={() => setOpen(!open)}\r\n            />\r\n\r\n            {/* ✅ Dropdown */}\r\n            {open && (\r\n                <div className=\"absolute right-0 mt-2 w-48 bg-white border rounded shadow-lg\">\r\n                    <p className=\"px-4 py-2 text-sm text-gray-800\">{user.username}</p>\r\n                    <button \r\n                        onClick={handleLogout} \r\n                        className=\"w-full text-left px-4 py-2 text-red-600 hover:bg-gray-100\"\r\n                    >\r\n                        Logout\r\n                    </button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAae,SAAS;IACpB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,mCAAmC;YAAE,iBAAiB;QAAK,GAChE,IAAI,CAAC,CAAA,MAAO,QAAQ,IAAI,IAAI,GAC5B,KAAK,CAAC,IAAM,QAAQ;IAC7B,GAAG,EAAE;IAEL,MAAM,eAAe;QACjB,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,qCAAqC;YAAE,iBAAiB;QAAK;QAC7E,QAAQ;IACZ;IAEA,IAAI,CAAC,MAAM,OAAO,MAAM,iCAAiC;IAEzD,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC;gBACG,KAAK,KAAK,MAAM;gBAChB,KAAI;gBACJ,WAAU;gBACV,SAAS,IAAM,QAAQ,CAAC;;;;;;YAI3B,sBACG,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAE,WAAU;kCAAmC,KAAK,QAAQ;;;;;;kCAC7D,8OAAC;wBACG,SAAS;wBACT,WAAU;kCACb;;;;;;;;;;;;;;;;;;AAOrB","debugId":null}}]
}